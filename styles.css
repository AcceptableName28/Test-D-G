*{box-sizing:border-box}
:root{
  --bg:#0b0c10;
  --panel:#111218;
  --ink:#e9eef4;
  --muted:#a9b3c9;
  --accent:#5ad;
  --good:#2ecc71;
  --bad:#ff6b6b;
}
html,body{height:100%}
body{
  margin:0;
  color:var(--ink);
  background:var(--bg);
  font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
}
.topbar{
  display:flex; align-items:center; gap:16px;
  padding:10px 16px; background:var(--panel);
  border-bottom:1px solid #1a1d25;
  position:sticky; top:0; z-index:10;
}
.brand{font-weight:700; letter-spacing:.3px}
.topbar .controls{display:flex; align-items:center; gap:12px; flex-wrap:wrap}
label{display:inline-flex; align-items:center; gap:6px; color:var(--muted)}
select,input,button{
  background:#0f1116; color:var(--ink);
  border:1px solid #2a2f40; border-radius:6px; padding:6px 8px;
}
button{cursor:pointer}
button:hover{border-color:#3a4060}
.main{display:grid; grid-template-columns:280px 1fr; height:calc(100vh - 56px)}
.sidebar{
  overflow:auto; border-right:1px solid #1a1d25; background:#0e1016; padding:12px;
}
.section{margin-bottom:16px}
.section-title{font-weight:600; color:var(--muted); margin-bottom:8px; letter-spacing:.2px}
.template-list{display:grid; grid-template-columns:1fr; gap:8px}
.template{
  display:grid; gap:6px; grid-template-columns:56px 1fr; align-items:center;
  padding:8px; border:1px solid #24293a; border-radius:8px; cursor:pointer; background:#0d0f14;
}
.template:hover{border-color:#3a4060}
.template .thumb{background:#10131b; height:44px; border-radius:6px; display:flex; align-items:center; justify-content:center}
.template .name{font-weight:600}
.template .meta{color:var(--muted); font-size:12px}
.params{display:grid; gap:8px}
.param{display:grid; grid-template-columns:1fr 100px; gap:8px; align-items:center}
.param input, .param select{width:100%}
.viewport{position:relative; overflow:hidden}
#canvasWrap{position:absolute; inset:0; padding:8px}
#svg{width:100%; height:100%; background:#fff; border-radius:8px}
.footer{padding:8px 16px; color:var(--muted); border-top:1px solid #1a1d25; background:#0e1016}
.swatch{display:inline-block; width:10px; height:10px; border-radius:2px; vertical-align:middle; margin-right:4px}
.sw-cut{background:#ff0000}
.sw-crease{background:#00a0ff}
.sw-perf{background:#ff7f00}
#validation{list-style:none; padding:0; margin:0; display:grid; gap:6px}
#validation li{padding:6px 8px; border-radius:6px; background:#0d0f14; border:1px solid #2a2f40}
#validation li.ok{border-color:#244b33; color:#bdf0c2}
#validation li.fail{border-color:#6b3434; color:#ffc9c9}

/* Ensure dropdown text is visible (user reported white on white issue) */
select{color:var(--ink); background-color:#0f1116}
option{color:#000; background:#fff} /* dropdown list */
